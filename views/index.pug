doctype html
html(lang="en", ng-app="scalculus")
	head 
		meta(charset="utf-8")
		meta(http-equiv="X-UA-Compatible",content="IE=edge")
		meta(name="viewport", content="width=device-width, initial-scale=1")
		link(href="/node_modules/bootstrap/dist/css/bootstrap.min.css", rel="stylesheet")
		link(rel="stylesheet", type="text/css", href="/views/css/style.css")
		title sCalculus
	body(ng-cloak, ng-controller="sCalCtrl")
		nav(class="navbar navbar-default navbar-fixed-top")
			div.container-fluid
				div.navbar-header
					button(type="button", class="navbar-toggle collapsed", data-toggle="collapse", data-target="#bs-example-navbar-collapse-1", aria-expanded="false")
						span.sr-only Toggle navigation
						span.icon-bar
						span.icon-bar
						span.icon-bar
					a.navbar-brand(href="/") sCalculus
				div.collapse.navbar-collapse#bs-example-navbar-collapse-1
					ul.nav.navbar-nav
						li
							a(href="#", data-toggle="modal", data-target="#myModal") Subscribe
						li
							a(href="#", data-toggle="modal", data-target="#myModal2") Login
		div(class="modal fade", id="myModal", tabindex="-1", role="dialog", aria-labelledby="myModalLabel")
			div(class="modal-dialog", role="document")
				div(class="modal-content")
					div(class="modal-header")
						button(type="button", class="close", data-dismiss="modal", aria-label="Close")
							span(aria-hidden="true") &times;
						h2(class="modal-title", id="myModalLabel") Subscribe
					div(class="modal-body")
						form
							input(class="form-control", type="text",ng-model="userName", placeholder="Pseudo")
							input(class="form-control", type="password",ng-model="userPwd", ng-keyup="passwordConfirm($event)", placeholder="Password")
							input(class="form-control", type="password",ng-model="vuserPwd", placeholder="Enter Password Again")
							input(class="form-control", type="submit", ng-if="passConf && userPwd == vuserPwd", ng-click="subscribe()")
					div(class="modal-footer")
						span(ng-show="register_loading") Loading...
						span(ng-if="stateSub") {{stateSub}}
		div(class="modal fade", id="myModal2", tabindex="-1", role="dialog", aria-labelledby="myMovalLabel2")
			div(class="modal-dialog", role="document")
				div(class="modal-content")
					div(class="modal-header")
						button(type="button", class="close", data-dismiss="modal", aria-label="Close")
							span(aria-hidden="true") &times;
						h2(class="modal-title", id="myModalLabel2") Log In
					div(class="modal-body")
						form
							input(class="form-control", type="text", ng-model="logUser", placeholder="Pseudo")
							input(class="form-control", type="password", ng-model="logPwd", placeholder="Password")
							input(class="form-control", type="submit", ng-click="login()")
					div(class="modal-footer")
						span(ng-show="Login_loading") Loading...
						span(ng-if="loginStatus && logUser && logPwd") {{loginStatus}}
			
		h2 Disconnect
		span(ng-show('user_log')) {{user_log}}
		br 
		span(ng-show('user_id')) {{user_id}}
		br 
		button(ng-click="disconnect()") Disconnect
		div
			h1 Status Bar 
			div#status
				span(ng-show="grid_alert") {{grid_alert}}
				br 
				span(ng-show="current_coor") x:y = {{current_coor}}   ;
				span(ng-show="coord") selected coord : {{coord}}
		div 
			h1 Grid System
			div(ng-keydown="gridKeyDown($event)", ng-keyup="gridKeyUp($event)", ng-click="gridClicked($event)")#sCalculus
		div 
			h1 Functions
			span(ng-show="current_coor") {{current_coor}} = 
			input(ng-show="current_coor", id="fnc", type="text", ng-click="fncGetContent()", ng-keyup="fncSetContent($event)")
			h2 Basic Functions
			div#functions
				button(ng-click="gridLoad()") Refresh
				button(ng-click="gridSave()") Save
				button(id="select_btn", ng-click="gridSelect()") Select 
				button(id="select_paste", ng-show="coord", ng-click="gridSelectPaste()") Paste
				button(id="toggle_res_func", ng-click="toggleResFunc()") Toggle Result/Func
				button Add
				button Substract
				button Multiply
				button Divide

		script(src="/node_modules/angular/angular.min.js")
		script(src="/views/js/script.js")
		script(src="/views/js/cookieManager.js")
		script(src="/views/js/login.js")
		script(src="/views/js/subscribe.js")
		script(src="/views/js/gridManager.js")
		script(src="/views/js/sCalculus.js")
		script(src="/views/js/coordinatesTranslator.js")
		script(src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js")
		script(src="/node_modules/bootstrap/dist/js/bootstrap.min.js")
